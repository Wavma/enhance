{
  "version": 3,
  "sources": ["src/params-invalid.js", "src/events.js", "src/drag.js", "src/zoom.js", "node_modules/hotkeys-js/dist/hotkeys.esm.js", "src/keyboard.js", "src/index.js"],
  "sourcesContent": ["export default function(parent, options) {\n  if (!parent || !(parent instanceof Element)) {\n    console.error(\n      \"You need to pass a parent element into enhance\\n\\n %cconst enhance = Enhance(%cparent%c, {element})\",\n      \"color: white\",\n      \"color: red\",\n      \"color: white\"\n    );\n    return true;\n  }\n  if (!options || !(options instanceof Object)) {\n    console.error(\n      \"You need to pass an options object as the second argument into enhance\\n\\n %cconst enhance = Enhance(parent, %c{element}%c)\",\n      \"color: white\",\n      \"color: red\",\n      \"color: white\"\n    );\n    return true;\n  }\n  if (!options.element) {\n    console.error(\n      \"You need to pass an element option into enhance\\n\\n %cconst enhance = Enhance(parent, %c{element}%c)\",\n      \"color: white\",\n      \"color: red\",\n      \"color: white\"\n    );\n    return true;\n  }\n  return false;\n}\n", "export const disableDefault = (e) => {\n  (e.ctrlKey || e.metaKey) && e.preventDefault();\n};\n", "export default function(parent, state, render) {\n  let active = false;\n  let pan = false;\n  let currentX;\n  let currentY;\n  let initialX;\n  let initialY;\n\n  const start = (e) => {\n    if (!pan) return;\n    parent.style.cursor = \"grabbing\";\n    initialX = e.clientX - state.xoff;\n    initialY = e.clientY - state.yoff;\n\n    active = true;\n  };\n\n  const end = (e) => {\n    if (!pan) return;\n    parent.style.cursor = \"grab\";\n    initialX = currentX;\n    initialY = currentY;\n\n    active = false;\n  };\n\n  const move = (e) => {\n    if (active && pan) {\n      e.preventDefault();\n\n      currentX = e.clientX - initialX;\n      currentY = e.clientY - initialY;\n\n      state.xoff = currentX;\n      state.yoff = currentY;\n      render();\n    }\n  };\n\n  const setParentCursor = (panning) => {\n    panning\n      ? (parent.style.cursor = \"grab\")\n      : (parent.style.cursor = \"default\");\n  };\n\n  document.addEventListener(\"keydown\", (e) => {\n    if (e.code === \"Space\" && !pan) {\n      setParentCursor(true);\n      pan = true;\n    }\n  });\n\n  document.addEventListener(\"keyup\", (e) => {\n    if (e.code === \"Space\" && pan) {\n      setParentCursor(false);\n      pan = false;\n    }\n  });\n\n  return { start, end, move };\n}\n", "export default function(parent, state, render, pbox) {\n  let focus = false;\n\n  const SVG = () => {\n    let svg;\n\n    const init = () => {\n      svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n      svg.style = `\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 10;\n      `;\n      parent.appendChild(svg);\n      addEventListeners();\n    };\n\n    const svgPoint = (elem, x, y) => {\n      let p = svg.createSVGPoint();\n      p.x = x;\n      p.y = y;\n      return p.matrixTransform(elem.getScreenCTM().inverse());\n    };\n\n    const handleMouseDown = (event) => {\n      const rect = document.createElementNS(\n        \"http://www.w3.org/2000/svg\",\n        \"rect\"\n      );\n\n      const start = svgPoint(svg, event.clientX, event.clientY);\n      const color = \"#0018ed\";\n\n      const drawRect = (e) => {\n        let p = svgPoint(svg, e.clientX, e.clientY);\n        let w = Math.abs(p.x - start.x);\n        let h = Math.abs(p.y - start.y);\n        if (p.x > start.x) {\n          p.x = start.x;\n        }\n\n        if (p.y > start.y) {\n          p.y = start.y;\n        }\n\n        rect.setAttributeNS(null, \"x\", Math.round(p.x));\n        rect.setAttributeNS(null, \"y\", Math.round(p.y));\n        rect.setAttributeNS(null, \"width\", Math.round(w));\n        rect.setAttributeNS(null, \"height\", Math.round(h));\n        rect.setAttributeNS(null, \"fill\", color);\n        rect.setAttributeNS(null, \"fill-opacity\", \"0.2\");\n        rect.setAttributeNS(null, \"stroke\", color);\n        rect.setAttributeNS(null, \"stroke-width\", \"0.75\");\n\n        svg.appendChild(rect);\n      };\n\n      const endDraw = (e) => {\n        const check =\n          rect.getAttribute(\"width\") > 0 && rect.getAttribute(\"height\") > 0;\n\n        if (check) transformZoomWindow(rect);\n\n        svg.removeEventListener(\"mousemove\", drawRect);\n        svg.removeEventListener(\"mouseup\", endDraw);\n        // rect.remove();\n        svg.remove();\n      };\n\n      svg.addEventListener(\"mousemove\", drawRect);\n      svg.addEventListener(\"mouseup\", endDraw);\n    };\n\n    const addEventListeners = () => {\n      svg.addEventListener(\"mousedown\", handleMouseDown);\n    };\n    const destroy = () => {\n      svg.removeEventListener(\"mousedown\", handleMouseDown);\n      svg.remove();\n    };\n\n    return { init, destroy };\n  };\n  let svg = SVG();\n\n  const transformZoomWindow = (element) => {\n    const el = element.cloneNode();\n\n    const pointX = parseFloat(element.getAttribute(\"x\"));\n    const pointY = parseFloat(element.getAttribute(\"y\"));\n\n    const newX = (pointX - state.xoff) / state.scale;\n    const newY = (pointY - state.yoff) / state.scale;\n    const newW = parseFloat(element.getAttribute(\"width\")) / state.scale;\n    const newH = parseFloat(element.getAttribute(\"height\")) / state.scale;\n\n    el.setAttribute(\"x\", newX);\n    el.setAttribute(\"y\", newY);\n    el.setAttribute(\"width\", newW);\n    el.setAttribute(\"height\", newH);\n\n    setZoom({\n      x: newX,\n      y: newY,\n      width: newW,\n      height: newH,\n    });\n  };\n\n  const setZoom = (box = {}) => {\n    const deltaWidth = pbox.width / box.width;\n    const deltaHeight = pbox.height / box.height;\n\n    if (deltaWidth < deltaHeight) {\n      state.scale = deltaWidth;\n      state.xoff = pbox.width - (box.width + box.x) * state.scale;\n      state.yoff =\n        pbox.height / 2 -\n        (box.height + box.y) * state.scale +\n        (box.height / 2) * state.scale;\n    } else {\n      state.scale = deltaHeight;\n      state.xoff =\n        pbox.width / 2 -\n        (box.width + box.x) * state.scale +\n        (box.width / 2) * state.scale;\n      state.yoff = pbox.height - (box.height + box.y) * state.scale;\n    }\n\n    render();\n  };\n\n  const setParentCursor = (focusing) => {\n    focusing\n      ? (parent.style.cursor = \"zoom-in\")\n      : (parent.style.cursor = \"default\");\n  };\n\n  document.addEventListener(\"keydown\", (e) => {\n    if (e.code === \"KeyZ\" && !focus) {\n      setParentCursor(true);\n      focus = true;\n      svg.init();\n    }\n  });\n\n  document.addEventListener(\"keyup\", (e) => {\n    if (e.code === \"KeyZ\" && focus) {\n      setParentCursor(false);\n      focus = false;\n      svg.destroy();\n    }\n  });\n}\n", "/*!\n * hotkeys-js v3.8.1\n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.\n * \n * Copyright (c) 2020 kenny wong <wowohoo@qq.com>\n * http://jaywcjlove.github.io/hotkeys\n * \n * Licensed under the MIT license.\n */\n\nvar isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false; // \u7ED1\u5B9A\u4E8B\u4EF6\n\nfunction addEvent(object, event, method) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, false);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), function () {\n      method(window.event);\n    });\n  }\n} // \u4FEE\u9970\u952E\u8F6C\u6362\u6210\u5BF9\u5E94\u7684\u952E\u7801\n\n\nfunction getMods(modifier, key) {\n  var mods = key.slice(0, key.length - 1);\n\n  for (var i = 0; i < mods.length; i++) {\n    mods[i] = modifier[mods[i].toLowerCase()];\n  }\n\n  return mods;\n} // \u5904\u7406\u4F20\u7684key\u5B57\u7B26\u4E32\u8F6C\u6362\u6210\u6570\u7EC4\n\n\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // \u5339\u914D\u4EFB\u4F55\u7A7A\u767D\u5B57\u7B26,\u5305\u62EC\u7A7A\u683C\u3001\u5236\u8868\u7B26\u3001\u6362\u9875\u7B26\u7B49\u7B49\n\n  var keys = key.split(','); // \u540C\u65F6\u8BBE\u7F6E\u591A\u4E2A\u5FEB\u6377\u952E\uFF0C\u4EE5','\u5206\u5272\n\n  var index = keys.lastIndexOf(''); // \u5FEB\u6377\u952E\u53EF\u80FD\u5305\u542B','\uFF0C\u9700\u7279\u6B8A\u5904\u7406\n\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n\n  return keys;\n} // \u6BD4\u8F83\u4FEE\u9970\u952E\u7684\u6570\u7EC4\n\n\nfunction compareArray(a1, a2) {\n  var arr1 = a1.length >= a2.length ? a1 : a2;\n  var arr2 = a1.length >= a2.length ? a2 : a1;\n  var isIndex = true;\n\n  for (var i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n\n  return isIndex;\n}\n\nvar _keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  '\u21EA': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n}; // Modifier Keys\n\nvar _modifier = {\n  // shiftKey\n  '\u21E7': 16,\n  shift: 16,\n  // altKey\n  '\u2325': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '\u2303': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '\u2318': 91,\n  cmd: 91,\n  command: 91\n};\nvar modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nvar _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nvar _handlers = {}; // F1~F12 special key\n\nfor (var k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\nvar _downKeys = []; // \u8BB0\u5F55\u6441\u4E0B\u7684\u7ED1\u5B9A\u952E\n\nvar _scope = 'all'; // \u9ED8\u8BA4\u70ED\u952E\u8303\u56F4\n\nvar elementHasBindEvent = []; // \u5DF2\u7ED1\u5B9A\u4E8B\u4EF6\u7684\u8282\u70B9\u8BB0\u5F55\n// \u8FD4\u56DE\u952E\u7801\n\nvar code = function code(x) {\n  return _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\n}; // \u8BBE\u7F6E\u83B7\u53D6\u5F53\u524D\u8303\u56F4\uFF08\u9ED8\u8BA4\u4E3A'\u6240\u6709'\uFF09\n\n\nfunction setScope(scope) {\n  _scope = scope || 'all';\n} // \u83B7\u53D6\u5F53\u524D\u8303\u56F4\n\n\nfunction getScope() {\n  return _scope || 'all';\n} // \u83B7\u53D6\u6441\u4E0B\u7ED1\u5B9A\u952E\u7684\u952E\u503C\n\n\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n} // \u8868\u5355\u63A7\u4EF6\u63A7\u4EF6\u5224\u65AD \u8FD4\u56DE Boolean\n// hotkey is effective only when filter return true\n\n\nfunction filter(event) {\n  var target = event.target || event.srcElement;\n  var tagName = target.tagName;\n  var flag = true; // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n\n  if (target.isContentEditable || (tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT') && !target.readOnly) {\n    flag = false;\n  }\n\n  return flag;\n} // \u5224\u65AD\u6441\u4E0B\u7684\u952E\u662F\u5426\u4E3A\u67D0\u4E2A\u952E\uFF0C\u8FD4\u56DEtrue\u6216\u8005false\n\n\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // \u8F6C\u6362\u6210\u952E\u7801\n  }\n\n  return _downKeys.indexOf(keyCode) !== -1;\n} // \u5FAA\u73AF\u5220\u9664handlers\u4E2D\u7684\u6240\u6709 scope(\u8303\u56F4)\n\n\nfunction deleteScope(scope, newScope) {\n  var handlers;\n  var i; // \u6CA1\u6709\u6307\u5B9Ascope\uFF0C\u83B7\u53D6scope\n\n  if (!scope) scope = getScope();\n\n  for (var key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);else i++;\n      }\n    }\n  } // \u5982\u679Cscope\u88AB\u5220\u9664\uFF0C\u5C06scope\u91CD\u7F6E\u4E3Aall\n\n\n  if (getScope() === scope) setScope(newScope || 'all');\n} // \u6E05\u9664\u4FEE\u9970\u952E\n\n\nfunction clearModifier(event) {\n  var key = event.keyCode || event.which || event.charCode;\n\n  var i = _downKeys.indexOf(key); // \u4ECE\u5217\u8868\u4E2D\u6E05\u9664\u6309\u538B\u8FC7\u7684\u952E\n\n\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  } // \u7279\u6B8A\u5904\u7406 cmmand \u952E\uFF0C\u5728 cmmand \u7EC4\u5408\u5FEB\u6377\u952E keyup \u53EA\u6267\u884C\u4E00\u6B21\u7684\u95EE\u9898\n\n\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  } // \u4FEE\u9970\u952E shiftKey altKey ctrlKey (command||metaKey) \u6E05\u9664\n\n\n  if (key === 93 || key === 224) key = 91;\n\n  if (key in _mods) {\n    _mods[key] = false; // \u5C06\u4FEE\u9970\u952E\u91CD\u7F6E\u4E3Afalse\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = false;\n    }\n  }\n}\n\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (!keysInfo) {\n    Object.keys(_handlers).forEach(function (key) {\n      return delete _handlers[key];\n    });\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(function (info) {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (typeof keysInfo === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // support old method\n    // eslint-disable-line\n    var scope = args[0],\n        method = args[1];\n\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n\n    eachUnbind({\n      key: keysInfo,\n      scope: scope,\n      method: method,\n      splitKey: '+'\n    });\n  }\n} // \u89E3\u9664\u7ED1\u5B9A\u67D0\u4E2A\u8303\u56F4\u7684\u5FEB\u6377\u952E\n\n\nvar eachUnbind = function eachUnbind(_ref) {\n  var key = _ref.key,\n      scope = _ref.scope,\n      method = _ref.method,\n      _ref$splitKey = _ref.splitKey,\n      splitKey = _ref$splitKey === void 0 ? '+' : _ref$splitKey;\n  var multipleKeys = getKeys(key);\n  multipleKeys.forEach(function (originKey) {\n    var unbindKeys = originKey.split(splitKey);\n    var len = unbindKeys.length;\n    var lastKey = unbindKeys[len - 1];\n    var keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return; // \u5224\u65AD\u662F\u5426\u4F20\u5165\u8303\u56F4\uFF0C\u6CA1\u6709\u5C31\u83B7\u53D6\u8303\u56F4\n\n    if (!scope) scope = getScope();\n    var mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    _handlers[keyCode] = _handlers[keyCode].map(function (record) {\n      // \u901A\u8FC7\u51FD\u6570\u5224\u65AD\uFF0C\u662F\u5426\u89E3\u9664\u7ED1\u5B9A\uFF0C\u51FD\u6570\u76F8\u7B49\u76F4\u63A5\u8FD4\u56DE\n      var isMatchingMethod = method ? record.method === method : true;\n\n      if (isMatchingMethod && record.scope === scope && compareArray(record.mods, mods)) {\n        return {};\n      }\n\n      return record;\n    });\n  });\n}; // \u5BF9\u76D1\u542C\u5BF9\u5E94\u5FEB\u6377\u952E\u7684\u56DE\u8C03\u51FD\u6570\u8FDB\u884C\u5904\u7406\n\n\nfunction eventHandler(event, handler, scope) {\n  var modifiersMatch; // \u770B\u5B83\u662F\u5426\u5728\u5F53\u524D\u8303\u56F4\n\n  if (handler.scope === scope || handler.scope === 'all') {\n    // \u68C0\u67E5\u662F\u5426\u5339\u914D\u4FEE\u9970\u7B26\uFF08\u5982\u679C\u6709\u8FD4\u56DEtrue\uFF09\n    modifiersMatch = handler.mods.length > 0;\n\n    for (var y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    } // \u8C03\u7528\u5904\u7406\u7A0B\u5E8F\uFF0C\u5982\u679C\u662F\u4FEE\u9970\u952E\u4E0D\u505A\u5904\u7406\n\n\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n} // \u5904\u7406keydown\u4E8B\u4EF6\n\n\nfunction dispatch(event) {\n  var asterisk = _handlers['*'];\n  var key = event.keyCode || event.which || event.charCode; // \u8868\u5355\u63A7\u4EF6\u8FC7\u6EE4 \u9ED8\u8BA4\u8868\u5355\u63A7\u4EF6\u4E0D\u89E6\u53D1\u5FEB\u6377\u952E\n\n  if (!hotkeys.filter.call(this, event)) return; // Gecko(Firefox)\u7684command\u952E\u503C224\uFF0C\u5728Webkit(Chrome)\u4E2D\u4FDD\u6301\u4E00\u81F4\n  // Webkit\u5DE6\u53F3 command \u952E\u503C\u4E0D\u4E00\u6837\n\n  if (key === 93 || key === 224) key = 91;\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n\n  ['ctrlKey', 'altKey', 'shiftKey', 'metaKey'].forEach(function (keyName) {\n    var keyNum = modifierMap[keyName];\n\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    } else if (keyName === 'metaKey' && event[keyName] && _downKeys.length === 3) {\n      /**\n       * Fix if Command is pressed:\n       * ===============================\n       */\n      if (!(event.ctrlKey || event.shiftKey || event.altKey)) {\n        _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));\n      }\n    }\n  });\n  /**\n   * -------------------------------\n   */\n\n  if (key in _mods) {\n    _mods[key] = true; // \u5C06\u7279\u6B8A\u5B57\u7B26\u7684key\u6CE8\u518C\u5230 hotkeys \u4E0A\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = true;\n    }\n\n    if (!asterisk) return;\n  } // \u5C06 modifierMap \u91CC\u9762\u7684\u4FEE\u9970\u952E\u7ED1\u5B9A\u5230 event \u4E2D\n\n\n  for (var e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  }\n  /**\n   * https://github.com/jaywcjlove/hotkeys/pull/129\n   * This solves the issue in Firefox on Windows where hotkeys corresponding to special characters would not trigger.\n   * An example of this is ctrl+alt+m on a Swedish keyboard which is used to type \u03BC.\n   * Browser support: https://caniuse.com/#feat=keyboardevent-getmodifierstate\n   */\n\n\n  if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState('AltGraph')) {\n    if (_downKeys.indexOf(17) === -1) {\n      _downKeys.push(17);\n    }\n\n    if (_downKeys.indexOf(18) === -1) {\n      _downKeys.push(18);\n    }\n\n    _mods[17] = true;\n    _mods[18] = true;\n  } // \u83B7\u53D6\u8303\u56F4 \u9ED8\u8BA4\u4E3A `all`\n\n\n  var scope = getScope(); // \u5BF9\u4EFB\u4F55\u5FEB\u6377\u952E\u90FD\u9700\u8981\u505A\u7684\u5904\u7406\n\n  if (asterisk) {\n    for (var i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope);\n      }\n    }\n  } // key \u4E0D\u5728 _handlers \u4E2D\u8FD4\u56DE\n\n\n  if (!(key in _handlers)) return;\n\n  for (var _i = 0; _i < _handlers[key].length; _i++) {\n    if (event.type === 'keydown' && _handlers[key][_i].keydown || event.type === 'keyup' && _handlers[key][_i].keyup) {\n      if (_handlers[key][_i].key) {\n        var record = _handlers[key][_i];\n        var splitKey = record.splitKey;\n        var keyShortcut = record.key.split(splitKey);\n        var _downKeysCurrent = []; // \u8BB0\u5F55\u5F53\u524D\u6309\u952E\u952E\u503C\n\n        for (var a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // \u627E\u5230\u5904\u7406\u5185\u5BB9\n          eventHandler(event, record, scope);\n        }\n      }\n    }\n  }\n} // \u5224\u65AD element \u662F\u5426\u5DF2\u7ECF\u7ED1\u5B9A\u4E8B\u4EF6\n\n\nfunction isElementBind(element) {\n  return elementHasBindEvent.indexOf(element) > -1;\n}\n\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  var keys = getKeys(key); // \u9700\u8981\u5904\u7406\u7684\u5FEB\u6377\u952E\u5217\u8868\n\n  var mods = [];\n  var scope = 'all'; // scope\u9ED8\u8BA4\u4E3Aall\uFF0C\u6240\u6709\u8303\u56F4\u90FD\u6709\u6548\n\n  var element = document; // \u5FEB\u6377\u952E\u4E8B\u4EF6\u7ED1\u5B9A\u8282\u70B9\n\n  var i = 0;\n  var keyup = false;\n  var keydown = true;\n  var splitKey = '+'; // \u5BF9\u4E3A\u8BBE\u5B9A\u8303\u56F4\u7684\u5224\u65AD\n\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // eslint-disable-line\n\n    if (option.element) element = option.element; // eslint-disable-line\n\n    if (option.keyup) keyup = option.keyup; // eslint-disable-line\n\n    if (option.keydown !== undefined) keydown = option.keydown; // eslint-disable-line\n\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey; // eslint-disable-line\n  }\n\n  if (typeof option === 'string') scope = option; // \u5BF9\u4E8E\u6BCF\u4E2A\u5FEB\u6377\u952E\u8FDB\u884C\u5904\u7406\n\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // \u6309\u952E\u5217\u8868\n\n    mods = []; // \u5982\u679C\u662F\u7EC4\u5408\u5FEB\u6377\u952E\u53D6\u5F97\u7EC4\u5408\u5FEB\u6377\u952E\n\n    if (key.length > 1) mods = getMods(_modifier, key); // \u5C06\u975E\u4FEE\u9970\u952E\u8F6C\u5316\u4E3A\u952E\u7801\n\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // *\u8868\u793A\u5339\u914D\u6240\u6709\u5FEB\u6377\u952E\n    // \u5224\u65ADkey\u662F\u5426\u5728_handlers\u4E2D\uFF0C\u4E0D\u5728\u5C31\u8D4B\u4E00\u4E2A\u7A7A\u6570\u7EC4\n\n    if (!(key in _handlers)) _handlers[key] = [];\n\n    _handlers[key].push({\n      keyup: keyup,\n      keydown: keydown,\n      scope: scope,\n      mods: mods,\n      shortcut: keys[i],\n      method: method,\n      key: keys[i],\n      splitKey: splitKey\n    });\n  } // \u5728\u5168\u5C40document\u4E0A\u8BBE\u7F6E\u5FEB\u6377\u952E\n\n\n  if (typeof element !== 'undefined' && !isElementBind(element) && window) {\n    elementHasBindEvent.push(element);\n    addEvent(element, 'keydown', function (e) {\n      dispatch(e);\n    });\n    addEvent(window, 'focus', function () {\n      _downKeys = [];\n    });\n    addEvent(element, 'keyup', function (e) {\n      dispatch(e);\n      clearModifier(e);\n    });\n  }\n}\n\nvar _api = {\n  setScope: setScope,\n  getScope: getScope,\n  deleteScope: deleteScope,\n  getPressedKeyCodes: getPressedKeyCodes,\n  isPressed: isPressed,\n  filter: filter,\n  unbind: unbind\n};\n\nfor (var a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\n\nif (typeof window !== 'undefined') {\n  var _hotkeys = window.hotkeys;\n\n  hotkeys.noConflict = function (deep) {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n\n    return hotkeys;\n  };\n\n  window.hotkeys = hotkeys;\n}\n\nexport default hotkeys;\n", "import hotkeys from \"hotkeys-js\";\n\nexport default function(state, render, pbox) {\n  hotkeys(\"command+=,command+-,command+0\", (e, handler) => {\n    e.preventDefault();\n    const clientX = pbox.width / 2;\n    const clientY = pbox.height / 2;\n\n    const xs = (clientX - state.xoff) / state.scale;\n    const ys = (clientY - state.yoff) / state.scale;\n\n    switch (handler.key) {\n      case \"command+=\":\n        state.scale *= 1.25;\n        break;\n      case \"command+-\":\n        state.scale /= 1.25;\n        break;\n      case \"command+0\":\n        state.scale = 1;\n        break;\n    }\n\n    if (handler.key === \"command+0\") {\n      state.xoff = xPos;\n      state.yoff = yPos;\n    } else {\n      state.xoff = clientX - xs * state.scale;\n      state.yoff = clientY - ys * state.scale;\n    }\n\n    render();\n    return false;\n  });\n}\n", "import paramsInvalid from \"./params-invalid.js\";\nimport { disableDefault } from \"./events.js\";\nimport drag from \"./drag.js\";\nimport zoom from \"./zoom.js\";\nimport keyboard from \"./keyboard.js\";\n\nexport default function(parent, options) {\n  console.log(\"enhance\");\n  let opts = {};\n  let pbox = {};\n  const state = {\n    scale: 1,\n    element: null,\n    xoff: 0,\n    yoff: 0,\n  };\n\n  const init = () => {\n    if (paramsInvalid(parent, options)) return;\n    pbox = getBBox(parent);\n\n    const defaults = {\n      scale: \"contain\", // \"contain\", \"cover\", or 0.5, 1, 2.5 (float)\n      max: 50, // Maximum zoom scale, Firefox struggles past 5.\n      min: 0.1, // Minimum zoom scale\n      position: \"50 50\", // \"0 0\", \"100 100\"\n      offset: 0, // default X, Y offset on load and reset\n      keyboard: true, // enable keyboard shortcuts\n      trackpad: true, // enable trackpad pinch-to-zoom and pan\n      pan: false, // enable panning by holding down spacebar and dragging on canvas\n      window: false, // enable zoom window selection\n    };\n    opts = Object.assign(defaults, options);\n\n    element();\n    addEventListeners();\n  };\n\n  const scaleFactor = (scale) => {\n    return Math.sqrt(scale) * 0.02;\n  };\n\n  const getBBox = (el) => {\n    const box = el.getBoundingClientRect();\n\n    return box;\n    // return {\n    //   x: parseFloat(element.getAttribute(\"x\")),\n    //   y: parseFloat(element.getAttribute(\"y\")),\n    //   width: parseFloat(element.getAttribute(\"width\")),\n    //   height: parseFloat(element.getAttribute(\"height\")),\n    // };\n  };\n\n  const setElementSize = (el) => {\n    let x, y, width, height;\n    ({ x, y, width, height } = getBBox(el));\n    setSize({ x, y, width, height });\n  };\n\n  const setSize = (box = {}) => {\n    const deltaWidth = (pbox.width - opts.offset * 2) / box.width;\n    const deltaHeight = (pbox.height - options.offset * 2) / box.height;\n\n    if (deltaWidth < deltaHeight) {\n      state.scale = deltaWidth;\n      state.xoff = pbox.width - (box.width - box.x) * state.scale - opts.offset;\n      state.yoff = (pbox.height - box.height * state.scale) / 2;\n    } else {\n      state.scale = deltaHeight;\n      state.xoff = (pbox.width - box.width * state.scale) / 2;\n      state.yoff = pbox.height - box.height * state.scale - opts.offset;\n    }\n\n    render();\n  };\n\n  const touchPanZoom = (e) => {\n    e.preventDefault();\n\n    if (e.ctrlKey || e.metaKey) {\n      const xs = (e.clientX - pbox.x - state.xoff) / state.scale;\n      const ys = (e.clientY - pbox.y - state.yoff) / state.scale;\n\n      state.scale -= e.deltaY * scaleFactor(state.scale);\n      state.scale = Math.min(Math.max(state.scale, opts.min), opts.max);\n\n      state.xoff = e.clientX - pbox.x - xs * state.scale;\n      state.yoff = e.clientY - pbox.y - ys * state.scale;\n    } else {\n      state.xoff -= e.deltaX;\n      state.yoff -= e.deltaY;\n    }\n\n    render();\n  };\n\n  const addEventListeners = () => {\n    window.addEventListener(\"wheel\", disableDefault, { passive: false });\n    parent.addEventListener(\"wheel\", touchPanZoom, { passive: false });\n\n    keyboard(state, render, pbox);\n    zoom(parent, state, render, pbox);\n    addDragListeners();\n  };\n\n  const addDragListeners = () => {\n    const dragger = drag(parent, state, render);\n\n    parent.addEventListener(\"mousedown\", dragger.start, false);\n    parent.addEventListener(\"mousemove\", dragger.move, false);\n    parent.addEventListener(\"mouseup\", dragger.end, false);\n  };\n\n  const render = () => {\n    window.requestAnimationFrame(() => {\n      state.element.style.transform = `translate3d(${state.xoff}px,${\n        state.yoff\n      }px,0px)\n       scale(${state.scale})`;\n    });\n  };\n\n  // -------------------------------------------\n  // Public methods\n  // -------------------------------------------\n  const element = (el, reset) => {\n    if (!el) el = opts.element;\n    state.element = el;\n\n    if (!reset) {\n      setElementSize(el);\n    }\n  };\n\n  const scale = (factor) => {};\n\n  init();\n  return {\n    element,\n    scale,\n  };\n}\n"],
  "mappings": "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",
  "names": []
}
